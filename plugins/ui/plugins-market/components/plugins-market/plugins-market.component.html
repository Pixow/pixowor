<div class="plugins-market">
  <p-tieredMenu #menu [model]="items" [popup]="true"></p-tieredMenu>
  <div class="plugins-market__header">
    <h1>插件市场</h1>
    <i class="pi pi-ellipsis-h" (click)="menu.toggle($event)"></i>
  </div>
  <div class="plugins-market__search">
    <input placeholder="搜索插件市场" />
  </div>

  <p-accordion (onOpen)="onTabOpen($event)">
    <p-accordionTab header="在线插件">
      <ul>
        <li *ngFor="let plugin of plugins$ | async">
          <plugin-item [plugin]="plugin" (install)="installPlugin($event)"></plugin-item>
        </li>
      </ul>
    </p-accordionTab>
    <p-accordionTab header="本地插件">
      <ul>
        <li *ngFor="let plugin of installedPlugins$ | async">
          <plugin-item
            [plugin]="plugin"
            (install)="installPlugin($event)"
            (active)="activePlugin($event)"
            (deactive)="deactivePlugin($event)"
          ></plugin-item>
        </li>
      </ul>
    </p-accordionTab>
  </p-accordion>
</div>
